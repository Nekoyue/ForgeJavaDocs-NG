<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Mon Jun 24 09:36:54 CST 2024 -->
<title>NetworkComponentNegotiator (neoforge 1.21.0-21.0.30-beta)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2024-06-24">
<meta name="description" content="declaration: package: net.neoforged.neoforge.network.negotiation, class: NetworkComponentNegotiator">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/NetworkComponentNegotiator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li><a href="#nested-class-summary">Nested</a></li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">net.neoforged.neoforge.network.negotiation</a></div>
<h1 title="Class NetworkComponentNegotiator" class="title">Class NetworkComponentNegotiator</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">net.neoforged.neoforge.network.negotiation.NetworkComponentNegotiator</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations">@Internal
</span><span class="modifiers">public class </span><span class="element-name type-name-label">NetworkComponentNegotiator</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Negotiates the network components between the server and client.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final record&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="NetworkComponentNegotiator.ComponentNegotiationResult.html" class="type-name-link" title="class in net.neoforged.neoforge.network.negotiation">NetworkComponentNegotiator.ComponentNegotiationResult</a></code></div>
<div class="col-last even-row-color">
<div class="block">The result of a negotiation.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">NetworkComponentNegotiator</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>private static <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="NegotiableNetworkComponent.html" title="class in net.neoforged.neoforge.network.negotiation">NegotiableNetworkComponent</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#buildDisabledOptionalComponents(java.util.List,java.util.List)" class="member-name-link">buildDisabledOptionalComponents</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="NegotiableNetworkComponent.html" title="class in net.neoforged.neoforge.network.negotiation">NegotiableNetworkComponent</a>&gt;&nbsp;currentSide,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="NegotiableNetworkComponent.html" title="class in net.neoforged.neoforge.network.negotiation">NegotiableNetworkComponent</a>&gt;&nbsp;otherSide)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Builds a list of disabled optional components.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="NegotiationResult.html" title="class in net.neoforged.neoforge.network.negotiation">NegotiationResult</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#negotiate(java.util.List,java.util.List)" class="member-name-link">negotiate</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="NegotiableNetworkComponent.html" title="class in net.neoforged.neoforge.network.negotiation">NegotiableNetworkComponent</a>&gt;&nbsp;server,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="NegotiableNetworkComponent.html" title="class in net.neoforged.neoforge.network.negotiation">NegotiableNetworkComponent</a>&gt;&nbsp;client)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Negotiates the network components between the server and client.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a><wbr>&lt;<a href="NetworkComponentNegotiator.ComponentNegotiationResult.html" title="class in net.neoforged.neoforge.network.negotiation">NetworkComponentNegotiator.ComponentNegotiationResult</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#validateComponent(net.neoforged.neoforge.network.negotiation.NegotiableNetworkComponent,net.neoforged.neoforge.network.negotiation.NegotiableNetworkComponent,java.lang.String)" class="member-name-link">validateComponent</a><wbr>(<a href="NegotiableNetworkComponent.html" title="class in net.neoforged.neoforge.network.negotiation">NegotiableNetworkComponent</a>&nbsp;left,
 <a href="NegotiableNetworkComponent.html" title="class in net.neoforged.neoforge.network.negotiation">NegotiableNetworkComponent</a>&nbsp;right,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;requestingSide)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Checks if two components are compatible.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>NetworkComponentNegotiator</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">NetworkComponentNegotiator</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="negotiate(java.util.List,java.util.List)">
<h3>negotiate</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="NegotiationResult.html" title="class in net.neoforged.neoforge.network.negotiation">NegotiationResult</a></span>&nbsp;<span class="element-name">negotiate</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="NegotiableNetworkComponent.html" title="class in net.neoforged.neoforge.network.negotiation">NegotiableNetworkComponent</a>&gt;&nbsp;server,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="NegotiableNetworkComponent.html" title="class in net.neoforged.neoforge.network.negotiation">NegotiableNetworkComponent</a>&gt;&nbsp;client)</span></div>
<div class="block">Negotiates the network components between the server and client.
 <p>
 The following rules are followed:
 <ul>
 <li>Any component that is optional on the client but is not present on the server is removed from the client's list.</li>
 <li>Any component that is optional on the server but is not present on the client is removed from the server's list.</li>
 <li>If the client has none optional components that are not present on the server, then negotiation fails</li>
 <li>If the server has none optional components that are not present on the client, then negotiation fails</li>
 <li>For each of the matching channels the following is executed:</li>
 <ul>
 <li>Check if packet flow directions are set, and if at least one is set match it to the other, by missing or wrong value fail the negotiation.</li>
 <li>Check if both sides have the same version, or none set.</li>
 </ul>
 <li>At this point the channels are considered compatible, pick the servers version. It does not matter what side is picked since either both have the same version, or no version at all.</li>
 </ul>
 </p>
 <p>
 If negotiation succeeds then a list of agreed upon channels and their versions is returned.
 </p>
 <p>
 If negotiation fails then a <a href="../../../../minecraft/network/chat/Component.html" title="interface in net.minecraft.network.chat"><code>Component</code></a> is returned with the reason for failure.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>server</code> - The list of server components that the server wishes to use for communication.</dd>
<dd><code>client</code> - The list of client components that the client wishes to use for communication.</dd>
<dt>Returns:</dt>
<dd>A <a href="NegotiationResult.html" title="class in net.neoforged.neoforge.network.negotiation"><code>NegotiationResult</code></a> that contains the agreed upon channels and their versions if negotiation succeeded, or a <a href="../../../../minecraft/network/chat/Component.html" title="interface in net.minecraft.network.chat"><code>Component</code></a> with the reason for failure if negotiation failed.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="buildDisabledOptionalComponents(java.util.List,java.util.List)">
<h3>buildDisabledOptionalComponents</h3>
<div class="member-signature"><span class="modifiers">private static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="NegotiableNetworkComponent.html" title="class in net.neoforged.neoforge.network.negotiation">NegotiableNetworkComponent</a>&gt;</span>&nbsp;<span class="element-name">buildDisabledOptionalComponents</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="NegotiableNetworkComponent.html" title="class in net.neoforged.neoforge.network.negotiation">NegotiableNetworkComponent</a>&gt;&nbsp;currentSide,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="NegotiableNetworkComponent.html" title="class in net.neoforged.neoforge.network.negotiation">NegotiableNetworkComponent</a>&gt;&nbsp;otherSide)</span></div>
<div class="block">Builds a list of disabled optional components.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>currentSide</code> - The current side to check for disabled optional components.</dd>
<dd><code>otherSide</code> - The other side to check for missing components.</dd>
<dt>Returns:</dt>
<dd>The list of disabled optional components.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="validateComponent(net.neoforged.neoforge.network.negotiation.NegotiableNetworkComponent,net.neoforged.neoforge.network.negotiation.NegotiableNetworkComponent,java.lang.String)">
<h3>validateComponent</h3>
<div class="member-signature"><span class="annotations">@VisibleForTesting
</span><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="NetworkComponentNegotiator.ComponentNegotiationResult.html" title="class in net.neoforged.neoforge.network.negotiation">NetworkComponentNegotiator.ComponentNegotiationResult</a>&gt;</span>&nbsp;<span class="element-name">validateComponent</span><wbr><span class="parameters">(<a href="NegotiableNetworkComponent.html" title="class in net.neoforged.neoforge.network.negotiation">NegotiableNetworkComponent</a>&nbsp;left,
 <a href="NegotiableNetworkComponent.html" title="class in net.neoforged.neoforge.network.negotiation">NegotiableNetworkComponent</a>&nbsp;right,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;requestingSide)</span></div>
<div class="block">Checks if two components are compatible.
 <p>
 The following rules are followed:
 <ul>
 <li>Check if packet flow directions are set, and if at least one is set match it to the other, by missing or wrong value fail the negotiation.</li>
 <li>Check if both sides have the same version, or none set.</li>
 </ul>
 </p>
 <p>
 If negotiation succeeds then an empty <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link"><code>Optional</code></a> is returned.
 </p>
 <p>
 If negotiation fails then a <a href="NegotiationResult.html" title="class in net.neoforged.neoforge.network.negotiation"><code>NegotiationResult</code></a> is returned with the reason for failure.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>left</code> - The verification component to compare.</dd>
<dd><code>right</code> - The requesting component to compare.</dd>
<dd><code>requestingSide</code> - The side of the requesting component.</dd>
<dt>Returns:</dt>
<dd>An empty <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link"><code>Optional</code></a> if negotiation succeeded, or a <a href="NegotiationResult.html" title="class in net.neoforged.neoforge.network.negotiation"><code>NegotiationResult</code></a> with the reason for failure if negotiation failed.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
